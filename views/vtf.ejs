<html lang='en'>

<head>
	<title>
		<%= title %>
	</title>
	<meta charset='UTF-8' />
	<meta http-equiv='X-UA-Compatible' content='IE=edge' />
	<link rel='shortcut icon' href='/favicon.ico' />
	<meta name='description' content='Convert your sprays for source engine games' />
	<meta name='theme-color' content='#ad24ed' />
	<meta name='author' content='Bryson' />
	<meta name='viewport' content='width=device-width, initial-scale=1.0' />
	<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' rel='stylesheet'
		integrity='sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We' crossorigin='anonymous' />
	<link rel='stylesheet' href='stylesheets/vtf-b.css' />
</head>

<body class='bg-dark'>
	<main>
		<main class='container flex-shrink' role='main'>
			<div class='text-center my-auto text-white'>
				<h1 style='margin-top: 1em'>VTF Converter Reupload</h1>
				<p class='text-faded' style='font-size: smaller'>Backup VTF converter in case the other one goes down
				</p>
			</div>
			<div class='text-center my-auto text-white'>
				Works best with same size images (with transparency or not).<br />
				Smaller images will be centered.<br />
				<p>
					To generate a fading spray enable mipmaps, load a main picture,<br />
					and then choose another picture under a mipmap of choice.<br />
				</p>
				<p>
					To generate an animated spray select multiple images in the file browser.<br />
					The frames are displayed in the same order as they appear in the file browser,<br />
					and each one lasts for 0.2s. Animated gifs and videos are also supported.
				</p>
				To download final spray click "Save as VTF".<br /><br />
				<span style='color: #cc3333'>Transparency is broken in Linux version of TF2 when using DXT1. Use DXT5
					instead!</span><br /><br />
				<div class='input-group input-group-prepend custom-file'>
					<input type='file' class='custom-file-input' id='files' name='files[]' accept='image/*,.tga,video/*'
						onchange='handleFileSelect(event)' multiple />
				</div>
				<br />

				<div id='resolutionNotice' style='visibility: hidden'>Using 1024x1020, no mipmaps</div>
				<div class='btn-group'>
					<select class='textInput' value='auto' id='widthSetting' onchange='setResolution()'>
						<option value='auto'>Auto</option>
						<option value='1024'>1024</option>
						<option value='768'>768</option>
						<option value='720'>720</option>
						<option value='512'>512</option>
						<option value='256'>256</option>
						<option value='128'>128</option>
						<option value='64'>64</option>
						<option value='32'>32</option>
						<option value='16'>16</option>
						<option value='8'>8</option>
						<option value='4'>4</option>
						<option value='custom'>Custom</option>
					</select>
					<input class='textInput' value='1024' id='widthSettingCus' onchange='setResolution()' type='text'
						style='width:50px; display: none' />
				</div>
				<div class='btn-group'>
					<select class='textInput' value='auto' id='heightSetting' onchange='setResolution()'>
						<option value='auto'>Auto</option>
						<option value='1024'>1024</option>
						<option value='768'>768</option>
						<option value='720'>720</option>
						<option value='512'>512</option>
						<option value='256'>256</option>
						<option value='128'>128</option>
						<option value='64'>64</option>
						<option value='32'>32</option>
						<option value='16'>16</option>
						<option value='8'>8</option>
						<option value='4'>4</option>
						<option value='custom'>Custom</option>
					</select>
					<input class='textInput' value='1024' id='heightSettingCus' onchange='setResolution()' type='text'
						style='width:50px; display: none' />
				</div>
				<datalist id='resolutionlist'>
					<option value='1024'>1024</option>
					<option value='864'>864</option>
					<option value='720'>720</option>
					<option value='512'>512</option>
					<option value='256'>256</option>
					<option value='128'>128</option>
					<option value='64'>64</option>
					<option value='32'>32</option>
					<option value='16'>16</option>
					<option value='8'>8</option>
					<option value='4'>4</option>
					<option value='custom'>custom</option>
				</datalist>
				<br />
				<input type='checkbox' name='mipmaps' id='mipmapsCheck' disabled onclick='mipmapclick = true'
					onchange='showMipmap(this)' /> Generate Mipmaps<br />
				<input type='checkbox' name='rescale' id='rescaleCheck' onchange='setResolution()' checked /> Scale to
				fit<br />

				<input type='checkbox' name='singleFrame' id='singleFrame' onchange='setSingleFrame()' /> Use single
				image
				for animation<br />
				<p id='filesizee'></p>
				<p>Image Encode settings:</p>
				Texture format:
				<br />
				<select class='textInput' value='13' id='format' onchange='setOutputType(this)'>
					<option value='0'>RGBA8888</option>
					<option value='2'>RGB888</option>
					<option value='4'>RGB565</option>
					<option value='21'>BGRA5551</option>
					<option value='19'>BGRA4444</option>
					<option value='13' selected>DXT1 (One bit alpha)</option>
					<option value='15'>DXT5</option>
				</select><br />
				Sampling Method:
				<br />
				<select class='textInput' value='0' id='sampling'>
					<option value='0'>Default</option>
					<option value='1'>Point (Pixel art)</option>
					<option value='2'>Trilinear</option>
					<option value='16'>Anisotropic</option>
				</select>

				<div id='ditherBlock'><input type='checkbox' name='dither' id='ditherCheck' checked />Use dithering
				</div>
				<div id='dxtSettings'>
					<div class='setting'>
						Compression quality:
						<br />
						<select class='textInput' value='2' id='dxtquality'>
							<option value='0'>Fast</option>
							<option value='1'>Normal</option>
							<option value='2' selected>Slow</option>
							<option value='3'>Very slow</option>
						</select><br />
					</div>
				</div>
				<p id='progress' class='progress-bar'></p>
				<br /><br />
				Filename:
				<input type='text' name='outputFilename' id='outputFilename' value='spray'
					pattern='[^\\\\\\/:\x22*?<>|]+' />
				<br /><br />
				<button id='convertButton' type='button' class='btn btn-success' onclick='convert()'
					disabled>Convert</button>
				&nbsp;
				<button id='saveButton' type='button' class='btn btn-success' onclick='createVTF()' disabled>Save as
					VTF</button>
				&nbsp;
				<button id='saveButtonVMT' type='button' class='btn btn-success' onclick='downloadVMT()' disabled>Save
					VMT</button><br />
				<br />
				Preview:
				<div id='contentWrapper'>
					<canvas id='preview'></canvas>
					<canvas id='canvas' style='display: none'></canvas>
					<canvas id='tempCanvas'></canvas>
					<div id='frames'></div>
				</div>
				<br />
				<input type='file' id='files0' name='files[]' accept='image/*,.tga,video/*'
					onchange='changeMipmap(event,0)' disabled multiple />
				<div id='mipmaps' style='display: none'></div>
				<br />
				<br />

			</div>
		</main>
		<div id='videoImporter' style='display:none'>
			<H4>Video import settings</H4>
			<span id='startTimeLb'>Start frame:</span><input class='textInput' value='0' id='startTimeIn' type='number'
				style='width:50px;' /><br />
			<span id='endTimeLb'>End frame:</span><input class='textInput' value='0' id='endTimeIn' type='number'
				style='width:50px;' /><br />
			Playback speed:<input class='textInput' value='1' id='fpsIn' type='number' style='width:50px;' />
			<input type='checkbox' name='allFramesIn' id='allFramesIn'
				onchange="document.getElementById('fpsIn').disabled = this.checked" />
			<span id='allFramesLb'>Import all frames</span><br />
			<button id='videoImporterAccept' type='button' onclick='clipImport()'>Import</button><br />
			<span id='videoImporterNotice'>You might need to disable hardware acceleration if import fails, or to
				improve
				performance</span>
			<span id='videoImporterProg'></span><br />

		</div>
		<footer class='footer mt-auto py-3 text-center' style='bottom: 0'>
			<div class='container text-white blockquote-footer'>
				<p class='mb-0'>Reupload of <a href='https://github.com/Mishcatt/VTF-Editor'>sprays.tk</a> site</p>
			</div>
		</footer>
		<script src='javascripts/tga.js' type='text/javascript'></script>
		<script src='javascripts/libgif.js' type='text/javascript'></script>
		<script src='javascripts/dither.js' type='text/javascript'></script>
		<script src='javascripts/quantize.js' type='text/javascript'></script>
		<script src='javascripts/dxt.js' type='text/javascript'></script>
		<script src='javascripts/vtf.js' type='text/javascript'></script>
	</main>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js'
		integrity='sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj'
		crossorigin='anonymous'></script>
</body>

</html>